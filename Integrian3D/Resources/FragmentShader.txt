#version 460 core

in vec2 vTexCoord;
in vec3 vNormal;
in vec3 vFragPos;

out vec4 _FragColor;

uniform sampler2D _Texture;
uniform vec3 _LightPos;
uniform vec3 _LightColor;

vec3 CalculateDiffuse()
{
    vec3 normal = normalize(vNormal);
    vec3 lightDir = normalize(_LightPos - vFragPos);

    float diffuse = max(dot(normal, lightDir), 0.f);
    vec3 diffuseVec = diffuse * _LightColor;
    
    return diffuseVec;
}

void main()
{
    vec3 diffuse = CalculateDiffuse();

    _FragColor = texture(_Texture, vTexCoord) * vec4(diffuse, 1.0f);
} 